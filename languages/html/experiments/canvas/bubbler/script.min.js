let t,i,e,h,s=[];class n{constructor(t=0,i=0){this.x=t,this.y=i,this.radius=d(8,25),this.ttl=d(50,2e3),this.dx=(1+4*Math.random())*(Math.floor(100*Math.random())>50?1:-1),this.dy=(1+4*Math.random())*(Math.floor(100*Math.random())>50?1:-1),this.color="white"}draw(){if(this.radius>0){i.beginPath(),i.arc(this.x,this.y,this.radius,0,2*Math.PI),i.stroke();const t=i.createRadialGradient(this.x,this.y,1,this.x+.5,this.y+.5,this.radius);t.addColorStop(.3,"rgba(255, 255, 255, 0.3)"),t.addColorStop(.95,"#e7feff"),i.fillStyle=t,i.fill()}}update(){this.x=this.x+this.dx,this.y=this.y-this.dy,(this.x<20||this.x>t.width-20)&&(this.dx*=-1),(this.y<20||this.y>t.height-20)&&(this.dy*=-1),this.ttl>0?this.ttl-=1:this.radius-=1}}const o=()=>{const t=document.getElementById("primary-div");t&&(t.style.backgroundColor="white",t.style.height=window.innerHeight-20+"px",t.style.width=window.innerWidth-20+"px")},d=(t,i)=>Math.floor(t+Math.random()*(i-t+1)),a=t=>{const i=new n(t.offsetX,t.offsetY);s.push(i)},r=()=>{t=document.getElementById("main-canvas"),t.width=window.innerWidth/2,t.height=window.innerHeight/2,t.style.backgroundColor="#0074aa",t.addEventListener("click",a),i=t.getContext("2d"),e=document.getElementById("info")},l=()=>{i.clearRect(0,0,t.width,t.height),s.forEach((t=>{t?.update(),t?.draw()})),s=s.filter((t=>t.radius>0)),e.innerHTML=`Active bubbles: ${s.length}`,h=requestAnimationFrame(l)};window.onload=function(){o(),r(),l()},window.onresize=function(){cancelAnimationFrame(h),o(),r(),l()};