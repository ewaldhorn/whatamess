# https://taskfile.dev

version: "3"

vars:
  DATABASE_FILE: hellolite.db
  SEED_DIRECTORY: initfiles
  AGENTS_SEED_FILE: agents_seed.json
  REGIONS_SEED_FILE: regions_seed.json

tasks:
  default:
    cmds:
      - task --list-all
    silent: true
  resetdb:
    cmds:
      - rm -f {{.DATABASE_FILE}}
      - sqlite-utils insert {{.DATABASE_FILE}} agents "./{{.SEED_DIRECTORY}}/{{.AGENTS_SEED_FILE}}" --pk=id
      - sqlite-utils insert {{.DATABASE_FILE}} regions "./{{.SEED_DIRECTORY}}/{{.REGIONS_SEED_FILE}}" --pk=id
    silent: true
